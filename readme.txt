edit: now FunctionEvaluator calculates brackets too